# GitBook2Site

GitBook2Site - это простой PHP скрипт на основе регулярных выражений для отображения сайта/учебника из файлов в формате *.MD, полученных из GitBook путем синхронизации с GitHub.

Копирует всю структуру и ссылки с GitBook, позволяет выполнять обновление данных через Cron и SH-файл (update-sample.sh).
Позволяет производить поиск данных.

## Структура

* /help-main/ - исходники файлов *.MD с GitBook
* config.php -  файл настроек
* update-sample.sh - заготовка для файла обновления данных (требуется указать свои данные).
* /template/default/template.tpl.php - HTML шаблон вывода на Bootstrap

## Задача

Сделать зеркало документации без задержек в загрузке, без блокировки ресурсов и возможностью изменять отображения данных, иметь полный доступ к файлам (установки счетчиков, подтверждение прав на сайт, чатов и т.д.).

## Требования

* PHP 7, 8

## Библиотеки

* Parsedown by Emanuil Rusev http://erusev.com

## Использование ОС

* Linux хостинг
* Windows - необходимо переименовать папку /help-main/.gitbook в /help-main/_gitbook из-за невозможности отображать изображения с точкой в путях в Windows

## Плюсы
* На порядок быстрее загружается
* Не блокируется мобильный трафик в РФ
* Простой файл шаблона на Bootstrap/JQuery/CSS

## Минусы
* Поиск данных пока уступает GitBook

## Демо
* Исходник - https://docs.phpshop.ru
* Результат работы GitBook2Site -  https://wiki.phpshop.ru

## История создания
Наш учебник https://docs.phpshop.ru стал блокироваться в мобильном трафике РФ, варианты установки копии GitBook требуют своего VPS и имеет большой ряд минусов. AI подсказал установить сторонние CMS для работы с Markdown, но они так же требовали VPS и ряд зависимостей, которые сложно реализуемые.

Сторонние готовые решения по парсингу файлов Markdown(PHP) на лету не были обнаружены. Так же следует заметить, что GitBook не просто использует Markdown, а добавляет еще свои персональные теги, которые не могут быть обработаны специализированными CMS и приводят сразу к ошибке в их работе.

На помощь пришла популярная библиотека Parsedown, но она так же не понимала "самодельные" теги GitBook.
В результате был создан свой небольшой PHP скрипт обработчик тегов GitBook и с помощью пBootstrap/JQuery/CSS реализован похожий внешний вид GitBook сайта.

## Использование
Вы можете использовать и дорабатывать GitBook2Site на своем сайте бесплатно.